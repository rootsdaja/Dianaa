@model IEnumerable<AirplaneTrafficManagement.Models.BookTicketsViewModel>
@{
    ViewBag.Title = "Ticket Search Page";
}
<hgroup class="title">
    <h1>@ViewBag.Title.</h1>
    <h2>Travel Search</h2>
    Add nav-bar for Flights
</hgroup>

<table class="table table-bordered table-hover">
    <tr>
        <th><b>RoundTrip</b></th> @*CheckBox*@
        <th><b>Depart From</b></th> @*ListOfCountries ---> ListOfCities --->ListOfAirports*@
        <th><b>Arrive At</b></th> 
        <th><b>Depart On</b></th>
        <th><b>Return On</b></th>
        <th><b>Passengers</b></th> 
        <td><b>Seat Number</b></td>
        <td><b>Class</b></td> @*DropDownClass*@
        <th><b>Airline</b></th> @*DropDownAirline*@
        @*<td><b>Options</b></td>Available just for ADMIN*@
    </tr>

    @foreach (AirplaneTrafficManagement.Models.BookTicketsViewModel item in Model)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.roundTrip)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.DepartureFromId)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.ArrivalAtId)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.departOn)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.returnOn)
            </td>
            <td>
                @Html.DisplayFor(modelitem => item.adult)
            </td>
            <td>
                @Html.DisplayFor(modelitem => item.children)
            </td>
            <td>
                @Html.DisplayFor(modelitem => item.infants)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.seat)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.companyName)
            </td>
            <td>
                @*@{var session = new Common.WebSessionContext();
                    }

                    @if (session.Admin == true)
                    {*@
                @Html.ActionLink("Edit", "EditTicket", "Ticket", new { id = item.idTicket }, null) |
                @Html.ActionLink("Delete", "DeleteTicket", "Ticket", new { id = item.idTicket }, null) |
                @Html.ActionLink("Add", "CreateTicket", "Ticket", null)
                @*<p>@Html.ActionLink("Movie Details", "movieDetail", "Flight", new { id_detail = item.idFlight }, null)</p>*@
                @*}

                    else
                    {*@
                @*@Html.ActionLink("Flight Details", "movieDetail", "Flight", new { id_detail = item.idFlight }, null)
                    <p>@Html.ActionLink("Reserve Ticket", "CreateTicket", "Flight", new { id = item.idFlight }, null)  </p>*@
                @*}*@
            </td>
        </tr>
    }
</table>
